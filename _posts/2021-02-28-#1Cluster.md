---
layout: post
title: "클러스터"
categories: Database
author: bn-tw2020
---
* content
{:toc}

## Intro

```
클러스터는 디스크로부터 데이터를 읽어오는 시간을 줄이기 위해서 조인이나 자주 사용되는 테이블의 데이터를
디스크의 같은 위치에 저장시키는 방법 입니다.
```




---

## 클러스터

* 테이블이 처음 생성될 때 행은 일반적으로 세그먼트의 첫 익스텐트의 첫블록부터 삽입된다.

* 정규 테이블로 저장될 경우 EMP와 DEPT은 서로 다른 세그먼트에 위치한다.
   * 테이블이 자신들 고유의 블록을 사용한다라는 의미이다.

* EMP 테이블의 행을 저장하는데 사용된 블록은 DEPT 테이블의 데이터를 저장하지 않는다.


## 클러스터의 장점

* 그룹된 컬럼 데이터 행들이 같은 데이터 Block에 저장되기에 디스크 I/O를 줄여 준다.

* 클러스터된 테이블 사이에 조인이 발생할 경우 그 처리 시간이 단축된다.

* 클러스터 키 열을 공유하여 한번만 저장하므로 저장 영역의 사용을 줄인다.

## 테이블 클러스터링의 특징

* 클러스터는 데이터 조회 성능을 향상 시키지만,

* 데이터 저장, 수정, 삭제 또는 한 테이블 전체 스캔의 성능을 감소시킨다.

## 클러스터 선정

```
# 클러스터 하기 좋은 테이블
  주로 조회가 자주 발생하고 수정이 거의 발생하지 않는 테이블
  컬럼 안의 많은 중복 데이터를 가지는 테이블

# 클러스터 KEY가 되기 좋은 컬럼
  데이터 값의 범위가 큰 컬럼
  테이블 간의 조인에 사용되는 컬럼

# 클러스터 KEY가 되기 나쁜 컬럼
  특정 데이터 값이 적은 컬럼
  자주 데이터 수정이 발생하는 컬럼
  LONG, LONG RAW 컬럼은 포함 할 수 없다.

```