---
layout: post
title: "[QnA] 정규화"
categories: DB
author: bn-tw2020
---
* content
{:toc}


## Intro

```
정규화의 개념과 이상현상, 함수 종속, 기본 정규형과 정규화 과정을 정리합니다.
```





---

* 정규화가 무엇인가요?

```
이상 현상을 제거하면서 데이터베이스를 올바르게 설계해 나가는 과정입니다.
```

* 정규화가 왜 필요할까요?

```
이상 현상을 막기 위함입니다. 이상 현상이 발생하면 데이터가 중복되거나 삭제해야 될 것이 삭제되지 않고 다른 것이 삭제되는 경우가 발생합니다.
```

* 이상 현상에는 무엇이 있나요?

```
이상 현상에는 삽입 이상, 갱신 이상, 삭제 이상이 있습니다.
삽입 이상은 새 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입하는 문제입니다.
갱신 이상은 중복 투플 중 일부만 변경하여 데이터가 불일치하게 되는 모순의 문제입니다.
삭제 이상은 투플을 삭제하면 꼭 필요한 데이터까지 손실되는 연쇄 삭제 현상이 발생하는 문제입니다.
```

<img width="533" alt="스크린샷 2021-08-19 오후 12 24 04" src="https://user-images.githubusercontent.com/66770613/130002736-11701ba5-4841-4b0c-a162-3d7f1252ca6e.png">  


* 정규화에 대해 설명해주세요

```
함수적 종속성을 이용해 릴레이션을 연관성이 있는 속성들로만 구성되도록 분해하여 이상 현상을 발생하지 않는 바람직한 릴레이션으로 만들어가는 과정입니다.
정규화를 통해 릴레이션은 무손실 분해가 되어야합니다.
릴레이션은 의미적으로 동등한 릴레이션들로 분해되어야하고 분해로 인한 정보의 손실이 발생하면 안됩니다.
분해된 릴레이션은 자연 조인하게 되면, 분해 전의 릴레이션이 나타나야 합니다.
```

* 함수적 종속성이 무엇인가요?

```
속성들 간의 관련성입니다.
함수 종족성을 이용하여, 릴레이션을 연관성이 있는 속성들로만 구성되도록 분해하여 이상 현상이 발생하지 않도록 바람직한 릴레이션을 만들어 나가는 과정이 정규화입니다.

X가 Y를 함수적으로 결정한다.라는 의미는
릴레이션 내의 모든 투플을 대상으로 하나의 X값에 대한 Y값이 항상 하나임을 말합니다.
X와 Y는 하나의 릴레이션을 구성하는 속성들의 집합입니다.
Y가 X에 함수적으로 종속되어 있다 = X가 Y를 함수적으로 결정한다
X->Y로 표현하며, X는 결정자 Y는 종속자입니다.
```



* 완전 함수 종속과 부분 함수 종속이 무엇인가요?

```
완전 함수 종속은 릴레이션에서 속성 집합 Y가 속성 집합 X에 함수적으로 종속되어 있지만,
속성 집합 X의 전체가 아닌 일부분에는 종속되지 않음을 의미합니다.
일반적으로 함수 종속은 완전 함수 종속을 의미합니다.

부분 함수 종속은 릴레이션에서 속성 집합 Y가 속성 집합 X의 전체가 아닌 일부분에도 함수적으로 종속됨을 의미합니다.
```

* 이행적 함수 종속은 무엇인가요?

```
릴레이션을 구성하는 3개의 속성 집합 X, Y, Z에 대해 함수 종속 관계를 X->Y, Y->Z가 존재하면
X->Z가 성립되는데, 이것을 Z가 X에 이행적으로 함수 종속되어 있다고 합니다.
e.g 고객 아이디, 등급, 할인율에서 고객 아이디가 등급을 결정하고 등급에 따라 할인율을 결정합니다.
    이런 경우 고객 아이디가 할인율을 결정하기 때문에 이행적 함수 종속관계를 갖게 됩니다.
```

* 정규형에 대해 설명해주세요

```
릴레이션의 정규화된 정도입니다.
각 정규형마다 제약조건이 존재하게 됩니다. 
정규형의 차수가 높아질수록 요구되는 제약조건이 많아지고 엄격해집니다.
정규형의 차수가 높아질수록 데이터 중복이 줄어 이상 현상이 발생하지 않는 바람직한 릴레이션이 만들어집니다.
릴레이션의 특성에 맞게 정규형을 선택해야합니다.
정규형은 제1정규형, 제2정규형, 제3정규형, 보이스/코드 정규형, 제4정규형, 제5정규형으로 6가지가 존재합니다.
```

* 제 1정규형은 무엇인가요?

```
릴레이션의 모든 속성이 더는 분해되지 않는 원자 값만 가져야합니다.
제1정규형을 만족해야 관계 데이터베이스의 릴레이션이 될 자격이 생깁니다.
제1정규화를 진행하고나면 데이터 불일치로 인한 갱신 이상, 데이터 손실로 인한 삭제 이상, 삽입 불가로 인한 삽입 이상이 나타날 수 있습니다.
이상 현상이 발생되는 이유는 기본키에 완전 함수 종속되지 못한 경우가 있기 때문입니다.

이 현상을 해결하기 위해서는 부분 함수 종속이 제거되도록 분해하게 되면 제2정규형을 진행해야 합니다.
```

* 제 2정규형은 무엇인가요?

```
릴레이션이 제 1정규형에 속하며, 기본 키가 아닌 모든 속성이 기본키에 완전 함수 종속되면 제2정규형을 만족합니다.
제 2정규화를 진행하고나면 데이터 불일치로 인한 갱신 이상, 데이터 손실로 인한 삭제 이상, 삽입 불가로 인한 삽입 이상이 발생합니다.
이상 현상이 발생되는 이유는 기본 키가 아닌 다른 속성이 기본키에 이행적 함수 종속되기 때문입니다.

이 현상을 해결하기 위해선 이행 함수 종속이 제거되도록 분해하게 되면 제3정규형을 진행해야 합니다.
```

* 제 3정규형은 무엇인가요?

```
릴레이션이 제 2정규형에 속하며, 기본 키가 아닌 모든 속성이 기본키에 이행적 함수 종속되지 않으면 제 3정규형을 만족합니다.
```